@model List<MarutiTrainingPortal.Models.TrainingEventRegistration>

<div style="color: var(--text-primary);">
    <h6 style="margin-bottom: 16px; color: var(--text-secondary);">
        <strong>@ViewBag.EventTitle</strong> - @Model.Count Registrant(s)
    </h6>

    @if (Model.Count == 0)
    {
        <div style="text-align: center; padding: 32px; color: var(--text-secondary);">
            <i class="fas fa-users" style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
            <p>No registrations yet</p>
        </div>
    }
    else
    {
        <div style="margin-bottom: 16px; text-align: right;">
            <a href="/Admin/Events/ExportRegistrations/@ViewBag.EventId" class="modern-btn modern-btn-primary modern-btn-sm">
                <i class="fas fa-download"></i> Export CSV
            </a>
        </div>

        <div style="max-height: 400px; overflow-y: auto;">
            <table class="table table-sm" style="color: var(--text-primary);">
                <thead style="position: sticky; top: 0; background: var(--bg-secondary); z-index: 1;">
                    <tr style="border-bottom: 2px solid var(--border-color);">
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Registered</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var reg in Model)
                    {
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 12px 8px;">
                                <strong>@reg.Name</strong>
                            </td>
                            <td style="padding: 12px 8px;">
                                <a href="mailto:@reg.Email" style="color: var(--primary); text-decoration: none;">
                                    <i class="fas fa-envelope" style="margin-right: 4px;"></i>@reg.Email
                                </a>
                            </td>
                            <td style="padding: 12px 8px;">
                                @if (!string.IsNullOrEmpty(reg.Phone))
                                {
                                    <a href="tel:@reg.Phone" style="color: var(--text-primary); text-decoration: none;">
                                        <i class="fas fa-phone" style="margin-right: 4px;"></i>@reg.Phone
                                    </a>
                                }
                                else
                                {
                                    <span style="color: var(--text-tertiary);">-</span>
                                }
                            </td>
                            <td style="padding: 12px 8px;">
                                <small style="color: var(--text-secondary);">
                                    <i class="fas fa-clock" style="margin-right: 4px;"></i>
                                    @reg.RegisteredAt.ToString("MMM dd, yyyy HH:mm")
                                </small>
                            </td>
                        </tr>
                        @if (!string.IsNullOrEmpty(reg.Notes))
                        {
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td colspan="4" style="padding: 0 8px 12px 8px;">
                                    <small style="color: var(--text-secondary);">
                                        <i class="fas fa-sticky-note" style="margin-right: 4px;"></i>
                                        <em>@reg.Notes</em>
                                    </small>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    }
</div>
