@model IEnumerable<MarutiTrainingPortal.Models.Video>
@{
    ViewData["Title"] = "Videos, Vlogs & Technical Tutorials | Maruti Makwana";
    ViewData["Description"] = "Explore a diverse collection of videos by Maruti Makwana, featuring technical tutorials, professional blogs, personal vlogs, and insightful non-tech content.";
    ViewData["Keywords"] = "Maruti Makwana videos, technical vlogs, tech blogs, non-tech videos, personal vlogs, Azure tutorials, AI workshops, SkillTech Club content, industrial automation vlogs";
    ViewData["CanonicalUrl"] = "https://marutimakwana.com/Videos";
}

@if (Model != null && Model.Any())
{
    @* Structured Data for Video Library *@
    <script type="application/ld+json">
    {
      "@@context": "https://schema.org",
      "@@type": "ItemList",
      "name": "Maruti Makwana Video Gallery",
      "description": "A diverse collection of videos, blogs, and vlogs by Maruti Makwana",
      "itemListElement": [
        @for (int i = 0; i < Model.Count(); i++)
        {
            var video = Model.ElementAt(i);
            <text>
            {
              "@@type": "ListItem",
              "position": @(i + 1),
              "item": {
                "@@type": "VideoObject",
                "name": "@Html.Raw(video.Title)",
                "description": "@Html.Raw(video.Description)",
                "thumbnailUrl": "@(string.IsNullOrEmpty(video.ThumbnailUrl) ? video.GenerateThumbnailUrl() : video.ThumbnailUrl)",
                "uploadDate": "@video.PublishDate.ToString("yyyy-MM-dd")",
                "contentUrl": "@video.VideoUrl",
                "embedUrl": "https://www.youtube.com/embed/@video.GetYouTubeEmbedId()",
                "publisher": {
                  "@@type": "Organization",
                  "name": "SkillTech Club",
                  "logo": {
                    "@@type": "ImageObject",
                    "url": "https://marutimakwana.com/images/logo.jpg"
                  }
                }
              }
            }@(i < Model.Count() - 1 ? "," : "")
            </text>
        }
      ]
    }
    </script>
}

@* HERO SECTION - Simplified to match Trainings page *@
<div class="container mt-5 mb-5">
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="display-4 fw-bold mb-3" style="color: var(--text-primary);">My Video Vlog</h1>
            <p class="lead text-muted mx-auto" style="max-width: 800px;">Stories, insights, and experiences from my journey</p>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-12">
            <div style="height: 1px; background: linear-gradient(90deg, transparent, var(--border-color), transparent);"></div>
        </div>
    </div>

    @* VIDEO LIST *@
    @if (!Model.Any())
    {
        @* Matched Empty State UI Exactly to Trainings page *@
        <div class="text-center py-5">
            <i class="fas fa-play-circle fa-3x mb-3" style="opacity: 0.5;"></i>
            <h5>No Videos Available Yet</h5>
            <p class="text-muted">No video records have been added. Check back later for showcased videos.</p>
        </div>
    }
    else
    {
            @* Landscape List (1 per row) *@
            <div style="display: flex; flex-direction: column; gap: 32px;">
                @foreach (var video in Model)
                {
                    <div class="landscape-video-card hover-lift-card fade-up" style="display: flex; align-items: center; background: var(--card-bg); border-radius: 24px; border: 1px solid var(--border-color); padding: 20px; gap: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                        
                        @* Left: Thumbnail *@
                        <div style="flex: 0 0 33%; min-width: 280px; position: relative; border-radius: 16px; overflow: hidden; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                            <a href="@video.VideoUrl" target="_blank" style="display: block; position: relative; aspect-ratio: 16/9;">
                                <img src="@(string.IsNullOrEmpty(video.ThumbnailUrl) ? video.GenerateThumbnailUrl() : video.ThumbnailUrl)" 
                                     alt="@video.Title" 
                                     style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;" />
                                
                                @* Play Overlay *@
                                <div style="position: absolute; inset: 0; background: rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; opacity: 1;" class="play-overlay">
                                    <div style="width: 50px; height: 50px; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);">
                                        <i class="fas fa-play" style="margin-left: 4px; font-size: 18px;"></i>
                                    </div>
                                </div>
                                
                                @if (!string.IsNullOrEmpty(video.Category))
                                {
                                    <span style="position: absolute; top: 12px; left: 12px; padding: 4px 10px; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); color: #fff; font-size: 11px; font-weight: 600; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2);">
                                        @video.Category
                                    </span>
                                }
                            </a>
                        </div>

                        @* Right: Content *@
                        <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; padding-right: 12px;">

                            <a href="@video.VideoUrl" target="_blank" style="text-decoration: none;">
                                <h3 style="font-size: 22px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px; line-height: 1.3; transition: color 0.3s ease;">
                                    @video.Title
                                </h3>
                                <div style="font-size: 14px; color: var(--text-secondary); margin-top: 8px; margin-bottom: 16px; opacity: 0.8; display: flex; align-items: center; gap: 8px;"><span>SkillTech Club</span><span style="opacity: 0.5;">•</span><span>@video.PublishDate.ToString("MMM dd, yyyy")</span></div>
                            </a>

                            <div style="color: var(--text-secondary); font-size: 15px; margin-bottom: 20px; line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; text-align: justify; opacity: 0.9;">
                                @video.Description
                            </div>

                        </div>
                    </div>
                }
            </div>
        }
    </div>
</div>

<style>
    .landscape-video-card:hover {
        transform: translateX(10px);
        border-color: var(--primary-color);
        box-shadow: 0 12px 30px rgba(0,0,0,0.15);
    }
    
    .landscape-video-card:hover img {
        transform: scale(1.05);
    }
    
    .landscape-video-card:hover h3 {
        color: var(--primary-color);
    }

    .btn-shine {
        transition: all 0.3s ease;
    }
    
    .btn-shine:hover {
        transform: translateX(4px);
    }
    
    .btn-shine i {
        transition: transform 0.3s ease;
    }
    
    .btn-shine:hover i {
        transform: translateX(4px);
    }

    @@media (max-width: 768px) {
        .landscape-video-card {
            flex-direction: row !important; /* Keep horizontal list style */
            padding: 8px !important;
            gap: 10px !important;
            align-items: flex-start !important;
            border-radius: 10px !important;
        }
        
        .landscape-video-card div[style*="flex: 0 0"] {
            flex: 0 0 90px !important; /* Smaller thumbnail */
            min-width: 90px !important; max-width: 90px !important;
            border-radius: 6px !important;
        }

        .landscape-video-card div[style*="flex: 1"] {
            padding-right: 0 !important;
            justify-content: flex-start !important;
        }

        .landscape-video-card h3 {
            font-size: 14px !important;
            margin-bottom: 6px !important;
            line-height: 1.3 !important;
            -webkit-line-clamp: 3 !important;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .landscape-video-card div[style*="font-size: 14px"] {
            font-size: 11px !important;
            margin-bottom: 0 !important;
        }        
        /* Fix channel name and date on mobile - stack vertically or keep inline */
        .landscape-video-card div[style*="display: flex"][style*="gap: 8px"] {
            flex-wrap: wrap !important;
            font-size: 11px !important;
        }


        /* Essential: Hide description on mobile for clean list view */
        .landscape-video-card div[style*="text-align: justify"] {
            display: none !important;
        }

        .landscape-video-card:hover {
            transform: translateX(4px) !important;
        }
    }
</style>
